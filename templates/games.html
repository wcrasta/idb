<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width = device-width, initial-scale=1">
<title>GGnoSWE Â· Games</title>
<link rel="stylesheet" type="text/css" href="../static/css/home.css">
<style type="text/css">
  body {
    background: url('../static/images/bg.png');
  }
  h2 {
    color: white;
  }
  .table-bordered {
    font-size: 175%;
    color: white;
    background-color: #2a8958;
  }
</style>
<script type="text/javascript">
  function calcTime(offset){
    var d = new Date(0)
    d.setUTCSeconds(offset)
  }
</script>
</head>
<body>

  <header>
    <!-- Starting Navigation Bar -->
    <nav class="navbar navbar-fixed-top">
      <div class="collapse navbar-collapse navbar-left" id="nav-col">
        <div class="navbar-header">
          <a class="navbar-brand" href="/">GGnoSWE
          </a>
        </div>
        <ul class="nav navbar-nav">
          <li class="nav-item active">
            <a class="nav-link" href="{{ url_for('games')}}">Games
              <span class="sr-only">(current)</span>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="{{ url_for('platforms')}}">Platforms</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="{{ url_for('studios')}}">Studios</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="{{ url_for('reviews')}}">Reviews</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="{{ url_for('about')}}">About</a>
          </li>
        </ul>
      </div>
    </nav>

    <!-- Starting Data Table -->
    <div class="container" style="padding-top: 125px;">
      <h2>Games Table</h2>
      <table class="table table-bordered" id="myTable">
        <thead>
          <tr>
            <th onclick ="sortTable(0)">Name</th>
            <th onclick ="sortTable(1)">Game Studio</th>
            <th onclick ="sortTable(2)">Genres</th>
            <th onclick ="sortTable(3)">Release Date</th>
            <th onclick ="sortTable(4)">Website</th>
            <th>
                Image
            </th>
          </tr>
        </thead>
        <tbody>
          {% for item in items.items %}
          <tr>
            <td>{{item.name}}</td>
            <td>{{item.studio_id}}</td>
            <td>{{item.genre}}</td>
            <td>{{item.release_date}}</td>
            <td>{{item.website}}</td>
            <td>{{item.image}}</td>
          </tr>
          {% endfor %}
          {% if items.has_prev %}<a href="{{ url_for('games', page=items.prev_num) }}" style="font-size:50px">&lt;&lt; Newer items</a>{% else %}&lt;&lt; Newer items{% endif %} |
{% if items.has_next %}<a href="{{ url_for('games', page=items.next_num) }}" style="font-size:50px">Older items &gt;&gt;</a>{% else %}Older posts &gt;&gt;{% endif %}
        </tbody>
      </table>
    </div>
  </header>

</body>

<!-- Sort the elements -->
<script>
function sortTable(n) {
  var table, rows, switching, i, x, y, shouldSwitch, dir, switchcount = 0;
  table = document.getElementById("myTable");
  switching = true;
  dir = "asc";
  while (switching) {
    switching = false;
    rows = table.getElementsByTagName("TR");
    for (i = 1; i < (rows.length - 1); i++) {
      shouldSwitch = false;
      x = rows[i].getElementsByTagName("TD")[n];
      y = rows[i + 1].getElementsByTagName("TD")[n];
      if (dir == "asc") {
        if (x.innerHTML.toLowerCase() > y.innerHTML.toLowerCase()) {
          shouldSwitch= true;
          break;
        }
      } else if (dir == "desc") {
        if (x.innerHTML.toLowerCase() < y.innerHTML.toLowerCase()) {
          shouldSwitch= true;
          break;
        }
      }
    }
    if (shouldSwitch) {
      rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);
      switching = true;
      switchcount ++;
    } else {
      if (switchcount == 0 && dir == "asc") {
        dir = "desc";
        switching = true;
      }
    }
  }
} 
</script>
